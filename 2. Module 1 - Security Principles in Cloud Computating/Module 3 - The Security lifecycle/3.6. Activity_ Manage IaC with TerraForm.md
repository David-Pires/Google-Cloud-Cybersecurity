---

# ğŸ¦ Case Study Managing IaC at Cymbal Bank  Gerenciando IaC no Cymbal Bank

This activity demonstrates the role of a Junior Cloud Security Analyst in reviewing and managing infrastructure using Terraform to ensure consistency, prevent configuration drift, and secure hybrid cloud environments.
Esta atividade demonstra o papel de um Analista de SeguranÃ§a de Nuvem JÃºnior na revisÃ£o e gerenciamento de infraestrutura usando Terraform para garantir consistÃªncia, evitar a derivaÃ§Ã£o de configuraÃ§Ã£o e proteger ambientes de nuvem hÃ­brida.

---

## ğŸ“ Activity Goals  Objetivos da Atividade

1. Examine a Terraform configuration file for potential misconfigurations.
2. Describe the cloud resources created by the script.
3. Identify how to update resource locations for global deployment.
4. Explain the security benefits of IaC for organizational stakeholders.

---

## ğŸ“„ Infrastructure Review  RevisÃ£o da Infraestrutura

ğŸ‡ºğŸ‡¸ English
The following configuration file provisions a secure network environment and a virtual machine (VM) with a startup script to install the Flask framework.
ğŸ‡§ğŸ‡· PortuguÃªs
O arquivo de configuraÃ§Ã£o a seguir provisiona um ambiente de rede seguro e uma mÃ¡quina virtual (VM) com um script de inicializaÃ§Ã£o para instalar o framework Flask.

```hcl
# 1. Network Layer  Camada de Rede
resource google_compute_network vpc_network {
  name                    = my-custom-mode-network
  auto_create_subnetworks = false # Mandatory for security control
  mtu                     = 1460
}

# 2. Subnetwork Layer  Camada de Sub-rede
resource google_compute_subnetwork default {
  name          = my-custom-subnet
  ip_cidr_range = 10.0.1.024
  region        = us-west1
  network       = google_compute_network.vpc_network.id
}

# 3. Compute Layer (VM Instance)  Camada de ComputaÃ§Ã£o
resource google_compute_instance default {
  name         = flask-vm
  machine_type = f1-micro
  zone         = us-west1-a
  tags         = [ssh]

  boot_disk {
    initialize_params {
      image = debian-clouddebian-11
    }
  }

  # Security & Setup Script
  metadata_startup_script = sudo apt-get update; sudo apt-get install -yq build-essential python3-pip rsync; pip install flask

  network_interface {
    subnetwork = google_compute_subnetwork.default.id
    access_config {
      # This block assigns an external IP  Atribui um IP externo
    }
  }
}

```

---

## ğŸ” Analyst Observations  ObservaÃ§Ãµes do Analista

### ğŸ—ºï¸ Changing Location  Alterando a LocalizaÃ§Ã£o

ğŸ‡ºğŸ‡¸ English To launch this VM globally (e.g., in Europe), the analyst must update the `region` in the subnetwork block (e.g., `europe-west1`) and the `zone` in the instance block (e.g., `europe-west1-b`).
ğŸ‡§ğŸ‡· PortuguÃªs Para lanÃ§ar esta VM globalmente (ex na Europa), o analista deve atualizar a `region` no bloco de sub-rede e a `zone` no bloco da instÃ¢ncia.

### ğŸ›¡ï¸ How IaC Improves Security  Como a IaC Melhora a SeguranÃ§a

 Consistency Automation ensures that all 170 physical stores and online systems use the same secure template.
 Reduced Human Error Eliminates the risk of a technician forgetting to disable a public port during manual setup.
 Drift Detection Allows the team to detect if a VM's configuration has been altered from its expected state.
 Immutable Infrastructure Instead of patching vulnerabilities on live servers, the team updates the code and redeploys a clean, secured version.

---

## âœ… Summary of Resources  Resumo de Recursos

 Resource Type  Tipo  Variable Name  VariÃ¡vel  Purpose  Finalidade 
 ---  ---  --- 
 `google_compute_network`  `vpc_network`  Isolated VPC for Cymbal Bank. 
 `google_compute_subnetwork`  `default`  Specific IP range and region definition. 
 `google_compute_instance`  `default`  The Flask web server (VM). 

---

Reference Cymbal Bank Hybrid Cloud Migration Project - CourseraGoogle Cloud.

---

