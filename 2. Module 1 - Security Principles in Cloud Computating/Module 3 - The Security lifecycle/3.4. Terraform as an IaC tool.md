
---

# ğŸ—ï¸ Deep Dive: Terraform & Google Cloud | Mergulho no Terraform e GCP

This document explores how Terraform uses configuration files and resource blocks to define the "Desired State" of cloud infrastructure, preventing configuration drift and ensuring consistency.
*Este documento explora como o Terraform utiliza arquivos de configuraÃ§Ã£o e blocos de recursos para definir o "Estado Desejado" da infraestrutura em nuvem, evitando a derivaÃ§Ã£o de configuraÃ§Ã£o e garantindo a consistÃªncia.*

---

## ğŸ“ Table of Contents | Ãndice

1. [Why Terraform?](https://www.google.com/search?q=%23-why-terraform)
2. [Components of a Configuration File](https://www.google.com/search?q=%23-components-of-a-configuration-file)
3. [Anatomy of a Resource Block](https://www.google.com/search?q=%23-anatomy-of-a-resource-block)
4. [Preventing Configuration Drift](https://www.google.com/search?q=%23-preventing-configuration-drift)

---

## ğŸŒ 1. Why Terraform? | Por que o Terraform?

**ğŸ‡ºğŸ‡¸ English:**
Terraform is **cloud-agnostic**, meaning it works with Google Cloud, AWS, Azure, and others. It allows developers to detect errors early (like invalid input ranges) and track all changes through code.
**ğŸ‡§ğŸ‡· PortuguÃªs:**
*O Terraform Ã© **cloud-agnostic**, o que significa que funciona com Google Cloud, AWS, Azure e outros. Ele permite que desenvolvedores detectem erros precocemente (como intervalos de entrada invÃ¡lidos) e rastreiem todas as mudanÃ§as via cÃ³digo.*

---

## ğŸ“„ 2. Configuration File Components | Componentes do Arquivo

Um arquivo de configuraÃ§Ã£o do Terraform Ã© composto por trÃªs elementos principais:

| Component / Componente | ğŸ‡ºğŸ‡¸ Purpose | ğŸ‡§ğŸ‡· PropÃ³sito |
| --- | --- | --- |
| **Resource** | Defines *what* is being created (e.g., VM, Network). | Define *o que* estÃ¡ sendo criado (ex: VM, Rede). |
| **Variable** | The unique name assigned to that resource in the code. | O nome Ãºnico atribuÃ­do Ã quele recurso no cÃ³digo. |
| **Location** | Where the resource will live (Region and Zone). | Onde o recurso residirÃ¡ (RegiÃ£o e Zona). |

---

## ğŸ§© 3. Anatomy of a Resource Block | Anatomia de um Bloco de Recurso

Cada bloco de cÃ³digo comeÃ§a com a palavra-chave `resource`. Veja como os recursos se conectam:

```hcl
# 1. Defining the VPC Network
resource "google_compute_network" "vpc_network" {
  name                    = "my-custom-network"
  auto_create_subnetworks = false # Manual control for better security
}

# 2. Defining a Subnetwork (Child of the VPC)
resource "google_compute_subnetwork" "default" {
  name          = "my-custom-subnet"
  ip_cidr_range = "10.0.1.0/24"
  region        = "us-west1"
  network       = google_compute_network.vpc_network.id # Dynamic link
}

# 3. Defining the VM Instance
resource "google_compute_instance" "default" {
  name         = "flask-vm"
  machine_type = "f1-micro"
  zone         = "us-west1-a"
  tags         = ["ssh"] # Important for Firewall rules
}

```

---

## ğŸ”„ 4. Preventing Configuration Drift | Prevenindo a DerivaÃ§Ã£o

**ğŸ‡ºğŸ‡¸ English:**
Configuration drift occurs when manual changes are made in the Cloud Console after deployment. Terraform eliminates this: instead of manual fixes, you update the code and re-run the tool. It compares the **Actual State** with the **Desired State** and fixes discrepancies.
**ğŸ‡§ğŸ‡· PortuguÃªs:**
*A derivaÃ§Ã£o de configuraÃ§Ã£o ocorre quando mudanÃ§as manuais sÃ£o feitas no Console da Nuvem apÃ³s a implantaÃ§Ã£o. O Terraform elimina isso: em vez de correÃ§Ãµes manuais, vocÃª atualiza o cÃ³digo e re-executa a ferramenta. Ela compara o **Estado Atual** com o **Estado Desejado** e corrige discrepÃ¢ncias.*

---

*Reference: Google Cloud Cybersecurity Professional Certificate - Terraform as an IaC tool.*

---


